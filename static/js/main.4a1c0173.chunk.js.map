{"version":3,"sources":["utils/api.js","actions/RecipesAction.js","components/RecipeModal.js","actions/ModalAction.js","components/RecipesList.js","components/App.js","reducers/RecipesReducer.js","reducers/ModalReducer.js","reducers/index.js","index.js"],"names":["fetchRecipesAPI","from","to","searchWord","axios","get","fetchRecipes","searchObj","dispatch","a","type","response","data","payload","items","hits","hasMore","more","connect","state","recipe","modal","show","hideModal","renderedHealthLabels","healthLabels","map","l","renderedIngredients","ingredientLines","i","List","Item","Icon","name","renderedNutritionInfo","digest","slice","d","Table","Row","Cell","label","Math","round","total","unit","Modal","open","closeIcon","onClose","Header","className","Content","image","Image","size","src","wrapped","Description","basic","compact","collapsing","unstackable","Body","calories","href","url","target","Actions","Button","onClick","positive","recipesList","recipes","showModal","renderedList","r","Card","key","uuidv4","ui","initialLoad","pageStart","loadMore","length","loader","threshold","Group","centered","removeOldData","React","useState","setSearchWord","topButton","document","getElementById","window","onscroll","body","scrollTop","documentElement","style","display","handleSubmit","Container","textAlign","Input","icon","inverted","circular","link","onKeyPress","e","placeholder","value","onChange","color","title","id","scrollTo","top","behavior","defaultState","loading","error","combineReducers","action","hadMore","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.4a1c0173.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst apiIngredientsURL = \"https://api.edamam.com/search?\";\nconst apiKey = \"908ee7f39a90db79c62a136997ebfd01\";\n\nexport const fetchRecipesAPI = ({ from, to, searchWord }) =>\n  axios.get(\n    `${apiIngredientsURL}q=${searchWord}&app_id=0ac46f36&app_key=${apiKey}&from=${from}&to=${to}`\n  );\n","import { fetchRecipesAPI } from \"../utils/api\";\n\nexport const FETCH_RECIPES = \"FETCH_RECIPES\";\nexport const FETCH_RECIPES_SUCCESS = \"FETCH_RECIPES_SUCCESS\";\nexport const FETCH_RECIPES_ERROR = \"FETCH_RECIPES_ERROR\";\nexport const REMOVE_OLD_DATA = \"REMOVE_OLD_DATA\";\n\nexport const fetchRecipes = (searchObj) => async (dispatch) => {\n  dispatch({ type: FETCH_RECIPES });\n\n  try {\n    const response = await fetchRecipesAPI(searchObj);\n\n    if (response && response.data) {\n      dispatch({\n        type: FETCH_RECIPES_SUCCESS,\n        payload: { items: response.data.hits, hasMore: response.data.more },\n      });\n    }\n  } catch (err) {\n    dispatch({\n      type: FETCH_RECIPES_ERROR,\n    });\n  }\n};\n\nexport const removeOldData = () => (dispatch) => {\n  dispatch({ type: REMOVE_OLD_DATA });\n};\n","import React from \"react\";\nimport { Image, Modal, Button, List, Icon, Table } from \"semantic-ui-react\";\nimport { hideModal } from \"../actions/ModalAction\";\nimport { connect } from \"react-redux\";\nimport { RecipesList } from \"./RecipesList\";\n\nexport const RecipeModal = ({ recipe, hideModal, show }) => {\n  const renderedHealthLabels = recipe.healthLabels.map((l) => {\n    return <span>{l}</span>;\n  });\n\n  const renderedIngredients = recipe.ingredientLines.map((i) => {\n    return (\n      <List.Item>\n        <Icon name=\"right triangle\" />\n        {i}\n      </List.Item>\n    );\n  });\n\n  const renderedNutritionInfo = recipe.digest.slice(0, 5).map((d) => {\n    return (\n      <Table.Row>\n        <Table.Cell>{d.label}</Table.Cell>\n        <Table.Cell>\n          {Math.round(d.total)}\n          {d.unit}\n        </Table.Cell>\n      </Table.Row>\n    );\n  });\n\n  return (\n    <Modal open={show} closeIcon onClose={hideModal}>\n      <Modal.Header>\n        {recipe.label}\n        <p className=\"health-labels\">{renderedHealthLabels}</p>\n      </Modal.Header>\n      <Modal.Content image>\n        <Image size=\"medium\" src={recipe.image} wrapped />\n        <Modal.Description>\n          <List>\n            <List.Header>Ingredients:</List.Header> {renderedIngredients}\n          </List>\n\n          <div className=\"header\">Nutrition Info:</div>\n          <Table basic=\"very\" compact collapsing unstackable>\n            <Table.Body>\n              <Table.Row>\n                <Table.Cell>Calories</Table.Cell>\n                <Table.Cell> {Math.round(recipe.calories)}</Table.Cell>\n              </Table.Row>\n              {renderedNutritionInfo}\n            </Table.Body>\n          </Table>\n          <div className=\"recipe-url\">\n            <a href={recipe.url} target=\"_blank\">\n              View Full Recipe\n            </a>\n          </div>\n        </Modal.Description>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button onClick={hideModal} positive>\n          Ok\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    recipe: state.modal.recipe,\n    show: state.modal.show,\n  };\n};\n\nexport default connect(mapStateToProps, { hideModal })(RecipeModal);\n","export const SHOW_MODAL = \"SHOW_MODAL\";\nexport const HIDE_MODAL = \"HIDE_MODAL\";\n\nexport const showModal = (recipe) => (dispatch) => {\n  dispatch({ type: SHOW_MODAL, payload: recipe });\n};\n\nexport const hideModal = () => (dispatch) => {\n  dispatch({ type: HIDE_MODAL });\n};\n","import React from \"react\";\nimport { Card, Image } from \"semantic-ui-react\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { connect } from \"react-redux\";\nimport { fetchRecipes } from \"../actions/RecipesAction\";\nimport { showModal } from \"../actions/ModalAction\";\nimport RecipeModal from \"./RecipeModal\";\n\nconst recipesPerPage = 10;\n\nexport const RecipesList = ({\n  recipesList,\n  searchWord,\n  fetchRecipes,\n  hasMore,\n  showModal,\n  show,\n}) => {\n  const renderedList = recipesList.map((r) => {\n    return (\n      <Card className=\"recipe-card\" onClick={() => showModal(r.recipe)} key={uuidv4()}>\n        <Card.Header>{r.recipe.label}</Card.Header>{\" \"}\n        <Image src={r.recipe.image} wrapped ui={false} />\n      </Card>\n    );\n  });\n\n  const getRecipes = () => {\n    fetchRecipes({\n      from: recipesList.length,\n      to: recipesList.length + recipesPerPage,\n      searchWord,\n    });\n  };\n\n  return (\n    <>\n      {show ? <RecipeModal /> : null}\n\n      <InfiniteScroll\n        initialLoad={false}\n        pageStart={1}\n        loadMore={getRecipes}\n        hasMore={hasMore}\n        loader={<h4>Loading...</h4>}\n        threshold={500}\n      >\n        <Card.Group  centered>\n          {renderedList}\n        </Card.Group>\n      </InfiniteScroll>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    recipesList: state.recipes.items,\n    hasMore: state.recipes.hasMore,\n    show: state.modal.show,\n  };\n};\n\nexport default connect(mapStateToProps, { fetchRecipes, showModal })(\n  RecipesList\n);\n","import React from \"react\";\nimport { Button, Container, Input, Icon } from \"semantic-ui-react\";\nimport RecipesList from \"./RecipesList.js\";\nimport { connect } from \"react-redux\";\nimport { fetchRecipes, removeOldData } from \"../actions/RecipesAction\";\n\nconst App = ({ fetchRecipes, removeOldData }) => {\n  const [searchWord, setSearchWord] = React.useState(\"\");\n  const topButton = document.getElementById(\"top-button\");\n\n  window.onscroll = () => {\n    if (\n      document.body.scrollTop > 20 ||\n      document.documentElement.scrollTop > 20\n    ) {\n      topButton.style.display = \"block\";\n    } else {\n      topButton.style.display = \"none\";\n    }\n  };\n\n  const handleTopButton = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  const handleSubmit = () => {\n    removeOldData();\n    fetchRecipes({ searchWord, from: 0, to: 10 });\n  };\n\n  const handleValue = (e) => {\n    setSearchWord(e.target.value);\n  };\n\n  const onKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      handleSubmit();\n    }\n  };\n\n  return (\n    <Container textAlign=\"center\">\n      <Input\n        className=\"input-field\"\n        icon={\n          <Icon name=\"search\" inverted circular link onClick={handleSubmit} />\n        }\n        onKeyPress={onKeyPress}\n        placeholder=\"Search...\"\n        value={searchWord}\n        onChange={handleValue}\n      />\n      <Button\n        color=\"teal\"\n        title=\"Go To Top\"\n        id=\"top-button\"\n        onClick={handleTopButton}\n      >\n        Top\n      </Button>\n\n      <RecipesList\n        className=\"recipes-list\"\n        searchWord={searchWord}\n      ></RecipesList>\n    </Container>\n  );\n};\n\nexport default connect(null, { fetchRecipes, removeOldData })(App);\n","import {\n  FETCH_RECIPES,\n  FETCH_RECIPES_SUCCESS,\n  FETCH_RECIPES_ERROR, \n  REMOVE_OLD_DATA\n} from \"../actions/RecipesAction\";\n\nconst defaultState = {\n  items: [],\n  loading: false,\n  error: false,\n  hasMore: false\n};\n\nexport const recipesReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case FETCH_RECIPES:\n      return { ...state, loading: true };\n    case FETCH_RECIPES_SUCCESS:\n      return {\n        ...state,\n        items: [...state.items, ...action.payload.items],\n        loading: false,\n        hasMore: action.payload.hasMore\n      };\n    case FETCH_RECIPES_ERROR:\n      return { ...state, error: true };\n    case REMOVE_OLD_DATA:\n      return { ...state, items: [], hadMore: false };\n    default:\n      return state;\n  }\n};\n","import { SHOW_MODAL, HIDE_MODAL } from \"../actions/ModalAction\";\n\nconst defaultState = {\n  show: false,\n  recipe: null,\n};\n\nexport const modalReduser = (state = defaultState, action) => {\n  switch (action.type) {\n    case SHOW_MODAL:\n      return { ...state, show: true, recipe: action.payload };\n    case HIDE_MODAL:\n      return { ...state, show: false };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { recipesReducer } from \"./RecipesReducer\";\nimport { modalReduser } from \"./ModalReducer\";\n\nexport default combineReducers({\n  recipes: recipesReducer,\n  modal: modalReduser,\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport reducers from \"./reducers\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./index.css\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(reducers, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}